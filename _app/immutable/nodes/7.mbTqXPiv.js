var xe=Object.getPrototypeOf;var Ee=Reflect.get;var le=i=>{throw TypeError(i)};var ue=(i,t,e)=>t.has(i)||le("Cannot "+e);var n=(i,t,e)=>(ue(i,t,"read from private field"),e?e.call(i):t.get(i)),G=(i,t,e)=>t.has(i)?le("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e);var J=(i,t,e)=>(ue(i,t,"access private method"),e);var ve=(i,t,e)=>Ee(xe(i),e,t);import{a as m,t as L,i as Re,e as $,j as H}from"../chunks/disclose-version.BQ5qK4J4.js";import{w as ce,T as ze,E as Me,aN as Ne,a0 as Ce,G as Te,J as qe,U as Oe,m as f,p as re,H as Se,a as se,c as M,r as w,N as U,g as r,f as Y,k as T,n as P,s as D,t as fe,aO as pe,b as Ue}from"../chunks/runtime.gS9Dhdqj.js";import{p as ee}from"../chunks/proxy.I2RIfYXX.js";import{p as be,i as V}from"../chunks/props.KBWi7S6r.js";import{e as de,i as Ie,M as Ae}from"../chunks/Metadata.FMkhadrM.js";import{a as me,c as ke}from"../chunks/Navbar.CgTXp4RY.js";import{t as ge,s as he}from"../chunks/class.BkBpr1cs.js";import{s as Ge}from"../chunks/snippet.hJUhzIVd.js";import{b as He}from"../chunks/this.-klIYCDZ.js";import{P as _e}from"../chunks/Picture.Dllv9TWp.js";import{C as je}from"../chunks/Card.Bpdtzc5H.js";import"../chunks/entry.CGq668fZ.js";import"../chunks/_page.svelte_svelte_type_style_lang.24Mm1yRb.js";/* empty css                                                            */import"../chunks/theme.svelte.RNrs421b.js";import{a as Pe,b as De,d as We,e as Ze,f as Je,g as Ve,h as Ye}from"../chunks/screenWidth.svelte.Dt_VUzUU.js";function Be(i,t,e){ce&&ze();var a=i,s=Oe,o;Me(()=>{Ne(s,s=t())&&(o&&Ce(o),o=Te(()=>e(a)))}),ce&&(a=qe)}function j(i){f(i,i.v+1)}var Fe=L('<dialog class="svelte-1gs0ezf"><!></dialog>');function Ke(i,t){re(t,!0);let e=be(t,"dialog",15);var a=Fe(),s=M(a);Ge(s,()=>t.children??Se),w(a),He(a,o=>e(o),()=>e()),m(i,a),se()}function Qe(i,t){const e=[],a=Math.floor(i.length/t);for(let s=0;s<t;s++)for(let o=0;o<a;o++)e.push(i[s+o*t]);for(let s=a*t;s<i.length;s++)e.push(i[s]);return e}const Xe=4,$e=6;function et(i){const t=()=>{const e=i.children[0],a=e.lastElementChild,s=+a.getAttribute("width")/+a.getAttribute("height"),o=window.innerWidth/window.innerHeight;s>o&&(e.style.width=`min(calc(100vw - ${Xe}rem), 48rem)`,e.style.height=""),s<o&&(e.style.height=`min(calc(100vh - ${$e}rem), 40rem)`,e.style.width="")};return t(),window.addEventListener("resize",t),{destroy(){window.removeEventListener("resize",t)}}}var g,h,y,I,B;const ae=class ae extends Map{constructor(e){super();G(this,I);G(this,g,new Map);G(this,h,U(0));G(this,y,U(0));if(e){for(var[a,s]of e)super.set(a,s);n(this,y).v=super.size}}has(e){var a=n(this,g),s=a.get(e);if(s===void 0){var o=super.get(e);if(o!==void 0)s=U(0),a.set(e,s);else return r(n(this,h)),!1}return r(s),!0}forEach(e,a){J(this,I,B).call(this),super.forEach(e,a)}get(e){var a=n(this,g),s=a.get(e);if(s===void 0){var o=super.get(e);if(o!==void 0)s=U(0),a.set(e,s);else{r(n(this,h));return}}return r(s),super.get(e)}set(e,a){var R;var s=n(this,g),o=s.get(e),x=super.get(e),E=super.set(e,a),_=n(this,h);if(o===void 0)s.set(e,U(0)),f(n(this,y),super.size),j(_);else if(x!==a){j(o);var N=_.reactions===null?null:new Set(_.reactions),d=N===null||!((R=o.reactions)!=null&&R.every(p=>N.has(p)));d&&j(_)}return E}delete(e){var a=n(this,g),s=a.get(e),o=super.delete(e);return s!==void 0&&(a.delete(e),f(n(this,y),super.size),f(s,-1),j(n(this,h))),o}clear(){if(super.size!==0){super.clear();var e=n(this,g);f(n(this,y),0);for(var a of e.values())f(a,-1);j(n(this,h)),e.clear()}}keys(){return r(n(this,h)),super.keys()}values(){return J(this,I,B).call(this),super.values()}entries(){return J(this,I,B).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return r(n(this,y)),super.size}};g=new WeakMap,h=new WeakMap,y=new WeakMap,I=new WeakSet,B=function(){r(n(this,h));var e=n(this,g);if(n(this,y).v!==e.size)for(var a of ve(ae.prototype,this,"keys").call(this))e.has(a)||e.set(a,U(0));for(var[,s]of n(this,g))r(s)};let te=ae;var tt=L('<div class="gallery__no-images svelte-yqxif2"><h3 class="gallery__no-images__message svelte-yqxif2">No Images Yet</h3></div>'),rt=L('<button class="gallery__column__image svelte-yqxif2" aria-label="Select this image"><!></button>'),st=L('<div class="gallery__column svelte-yqxif2"></div>'),at=(i,t)=>{r(t)&&r(t)>0&&pe(t,-1)},it=L('<button aria-label="view previous image" class="nav-button prev-nav-button svelte-yqxif2"><i></i></button>'),ot=(i,t,e)=>{r(t)&&r(t)<r(e)-1&&pe(t)},nt=L('<button aria-label="view next image" class="nav-button next-nav-button svelte-yqxif2"><i></i></button>'),lt=L('<div class="dialog__image svelte-yqxif2"><!> <!> <!></div>'),ut=L('<section class="gallery svelte-yqxif2"><!> <!></section>');function vt(i,t){re(t,!0);let e=be(t,"columns",3,4),a=T(()=>t.imageURLs.map((v,l)=>({index:l,url:v}))),s=T(()=>new te(r(a).map(({url:v,index:l})=>[l,v]))),o=T(()=>t.imageURLs.length),x=P(!1),E=P(!1);const _=(v,l)=>{const q=Math.floor(r(o)/l),F=r(o)%l,b=[];v=Qe(v,l);for(let c=0;c<l;(c+=1)-1)b[c]=v.slice(c*q,(c+1)*q);for(let c=0;c<F;(c+=1)-1)b[c].push(v[q*l+c]);return b};let N=T(()=>_(r(a),e())),d=P(null),R=T(()=>r(d)===null?null:r(s).get(r(d))||null),p=P(void 0);function we(v){return l=>{f(d,ee(v)),r(p)&&r(p).showModal()}}var ie=$(),ye=Y(ie);V(ye,()=>r(o)===0,v=>{var l=tt();m(v,l)},v=>{var l=ut(),q=M(l);de(q,17,()=>r(N),Ie,(b,c)=>{var O=st();de(O,23,()=>r(c),A=>A.url.img.src,(A,W,Z)=>{var S=rt(),K=T(()=>we(r(W).index));S.__click=function(...z){var k;(k=r(K))==null||k.apply(this,z)};var Q=M(S),oe=T(()=>r(Z)<3?"eager":"lazy");_e(Q,{get meta(){return r(W).url},get loading(){return r(oe)}}),w(S),m(A,S)}),w(O),m(b,O)});var F=D(q,2);Ke(F,{get dialog(){return r(p)},set dialog(b){f(p,ee(b))},children:(b,c)=>{var O=$(),A=Y(O);Be(A,()=>r(R),W=>{var Z=$(),S=Y(Z);V(S,()=>r(d)!==null&&r(R)!=null,K=>{je(K,{children:(Q,oe)=>{var z=lt(),k=M(z);V(k,()=>r(d)!=0,C=>{var u=it();u.__click=[at,d];var X=M(u);w(u),fe(()=>{ge(u,"button-below",e()<4),he(X,`ri-arrow-left-circle-${(r(x)?"fill":"line")??""} svelte-yqxif2`)}),H("mouseenter",u,()=>f(x,!0)),H("mouseleave",u,()=>f(x,!1)),m(C,u)});var ne=D(k,2);_e(ne,{get meta(){return r(R)}});var Le=D(ne,2);V(Le,()=>r(d)!=r(o)-1,C=>{var u=nt();u.__click=[ot,d,o];var X=M(u);w(u),fe(()=>{ge(u,"button-below",e()<4),he(X,`ri-arrow-right-circle-${(r(E)?"fill":"line")??""} svelte-yqxif2`)}),H("mouseenter",u,()=>f(E,!0)),H("mouseleave",u,()=>f(E,!1)),m(C,u)}),w(z),me(z,C=>ke(C)),me(z,C=>et(C)),H("click_outside",z,()=>r(p).close()),m(Q,z)},$$slots:{default:!0}})}),m(W,Z)}),m(b,O)},$$slots:{default:!0}}),w(l),m(v,l)}),m(i,ie),se()}Re(["click"]);var ct=L('<!> <main class="gallery svelte-uhb3ej"><h1 class="svelte-uhb3ej">Gallery</h1> <div class="gallery__image-grid svelte-uhb3ej"><!></div></main>',1);function Ct(i,t){re(t,!0);let e=P(4);[[Pe,4],[De,4],[We,3],[Ze,3],[Je,2],[Ve,2],[Ye,1]].map(([R,p])=>{Ue(()=>{R.value&&f(e,ee(p))})});const s="Gallery | RHHS StuCo",o="A look into our 2024-2025 school year.";var x=ct(),E=Y(x);Ae(E,{title:s,description:o,url:"https://rhhsstuco.ca/gallery",get image(){return t.data.imageURLs[0]}});var _=D(E,2),N=D(M(_),2),d=M(N);vt(d,{get imageURLs(){return t.data.imageURLs},get columns(){return r(e)}}),w(N),w(_),m(i,x),se()}export{Ct as component};
