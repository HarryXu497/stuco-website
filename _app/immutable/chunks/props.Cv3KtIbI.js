import{E as x,a8 as y,G as O,a9 as D,o as b,a0 as U,F as Y,aa as $,ab as k,$ as G,_ as F,J as H,P as M,ac as j,ad as z,ae as J,af as V,g as m,m as Z,d as N,ag as K,ah as Q,y as L,ai as W,T as X,aj as ee,ak as ae,k as q,al as re,D as C,am as te,an as fe}from"./runtime.VibfJNUv.js";import{p as ne}from"./proxy.Bx2X1gXO.js";import{c as se}from"./store.BhNY8m5G.js";function _e(t,a,f,_=null,h=!1){b&&U();var r=t,n=null,i=null,v=null,u=h?Y:0;x(()=>{if(v===(v=!!a()))return;let l=!1;if(b){const s=r.data===$;v===s&&(r=k(),G(r),F(!1),l=!0)}v?(n?y(n):n=O(()=>f(r)),i&&D(i,()=>{i=null})):(i?y(i):_&&(i=O(()=>_(r))),n&&D(n,()=>{n=null})),l&&F(!0)},u),b&&(r=H)}function w(t){for(var a=C,f=C;a!==null&&!(a.f&(K|Q));)a=a.parent;try{return L(a),t()}finally{L(f)}}function ve(t,a,f,_){var p;var h=(f&W)!==0,r=!X||(f&ee)!==0,n=(f&ae)!==0,i=(f&te)!==0,v=!1,u;n?[u,v]=se(()=>t[a]):u=t[a];var l=(p=M(t,a))==null?void 0:p.set,s=_,E=!0,P=!1,g=()=>(P=!0,E&&(E=!1,i?s=N(_):s=_),s);u===void 0&&_!==void 0&&(l&&r&&j(),u=g(),l&&l(u));var c;if(r)c=()=>{var e=t[a];return e===void 0?g():(E=!0,P=!1,e)};else{var I=w(()=>(h?q:re)(()=>t[a]));I.f|=z,c=()=>{var e=m(I);return e!==void 0&&(s=void 0),e===void 0?s:e}}if(!(f&J))return c;if(l){var B=t.$$legacy;return function(e,d){return arguments.length>0?((!r||!d||B||v)&&l(d?c():e),e):c()}}var R=!1,A=!1,S=fe(u),o=w(()=>q(()=>{var e=c(),d=m(S);return R?(R=!1,A=!0,d):(A=!1,S.v=e)}));return h||(o.equals=V),function(e,d){if(arguments.length>0){const T=d?m(o):r&&n?ne(e):e;return o.equals(T)||(R=!0,Z(S,T),P&&s!==void 0&&(s=T),N(()=>m(o))),e}return m(o)}}export{_e as i,ve as p};
