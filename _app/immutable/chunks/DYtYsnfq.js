var de=Object.getPrototypeOf;var he=Reflect.get;var W=a=>{throw TypeError(a)};var X=(a,t,e)=>t.has(a)||W("Cannot "+e);var n=(a,t,e)=>(X(a,t,"read from private field"),e?e.call(a):t.get(a)),M=(a,t,e)=>t.has(a)?W("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e);var C=(a,t,e)=>(X(a,t,"access private method"),e);var Y=(a,t,e)=>he(de(a),e,t);import{t as U,a as b,j as E,i as pe,f as $}from"./CGPk1p6M.js";import{I as B,P as me,aL as ge,aN as _e,aO as be,G as we,X as Re,W as ze,N as Ee,U as Le,y as z,i as o,n as v,c as A,r as N,Y as Me,p as ye,d as F,a as Ae,m as T,f as J,k as I,s as K,t as Q}from"./DtozkBZ6.js";import{i as j}from"./Byb7hIPL.js";import{a as ee,c as Ne}from"./DNJbmD6f.js";import{a as re}from"./Bql567Of.js";import{p as Ue}from"./Dfl0b0A4.js";import{p as te,u as se}from"./DCI1w4ly.js";import{i as y}from"./ESd1h6Zq.js";import{s as ae}from"./CSs4O44k.js";import{b as Ce}from"./BKQYt1zV.js";import{P as Ie}from"./vE53Sxnw.js";function xe(a,t,e){B&&me();var r=a,s=Le,i,u=ge()?_e:be;we(()=>{u(s,s=t())&&(i&&Re(i),i=ze(()=>e(r)))}),B&&(r=Ee)}var d,h,p,L,x;const S=class S extends Map{constructor(e){super();M(this,L);M(this,d,new Map);M(this,h,z(0));M(this,p,z(0));if(e){for(var[r,s]of e)super.set(r,s);n(this,p).v=super.size}}has(e){var r=n(this,d),s=r.get(e);if(s===void 0){var i=super.get(e);if(i!==void 0)s=z(0),r.set(e,s);else return o(n(this,h)),!1}return o(s),!0}forEach(e,r){C(this,L,x).call(this),super.forEach(e,r)}get(e){var r=n(this,d),s=r.get(e);if(s===void 0){var i=super.get(e);if(i!==void 0)s=z(0),r.set(e,s);else{o(n(this,h));return}}return o(s),super.get(e)}set(e,r){var f;var s=n(this,d),i=s.get(e),u=super.get(e),m=super.set(e,r),g=n(this,h);if(i===void 0)s.set(e,z(0)),v(n(this,p),super.size),y(g);else if(u!==r){y(i);var _=g.reactions===null?null:new Set(g.reactions),O=_===null||!((f=i.reactions)!=null&&f.every(w=>_.has(w)));O&&y(g)}return m}delete(e){var r=n(this,d),s=r.get(e),i=super.delete(e);return s!==void 0&&(r.delete(e),v(n(this,p),super.size),v(s,-1),y(n(this,h))),i}clear(){if(super.size!==0){super.clear();var e=n(this,d);v(n(this,p),0);for(var r of e.values())v(r,-1);y(n(this,h)),e.clear()}}keys(){return o(n(this,h)),super.keys()}values(){return C(this,L,x).call(this),super.values()}entries(){return C(this,L,x).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return o(n(this,p)),super.size}};d=new WeakMap,h=new WeakMap,p=new WeakMap,L=new WeakSet,x=function(){o(n(this,h));var e=n(this,d);if(n(this,p).v!==e.size)for(var r of Y(S.prototype,this,"keys").call(this))e.has(r)||e.set(r,z(0));for(var[,s]of n(this,d))o(s)};let H=S;const Oe=8,Pe=14;function q(a){const t=()=>{const r=Array.from(a.children).find(m=>m.tagName==="PICTURE");if(!r)return;const s=r.lastElementChild,i=+s.getAttribute("width")/+s.getAttribute("height"),u=window.innerWidth/window.innerHeight;i>u&&(r.style.width=`min(calc(100vw - ${Oe}rem), 34rem)`,r.style.height=""),i<u&&(r.style.height=`min(calc(100vh - ${Pe}rem), 34rem)`,r.style.width="")};return t(),window.addEventListener("resize",t),{destroy(){window.removeEventListener("resize",t)}}}var ke=U('<div class="card svelte-1udji7p"><!></div>');function Te(a,t){var e=ke(),r=A(e);ae(r,()=>t.children),N(e),b(a,e)}var je=U('<dialog class="svelte-1gs0ezf"><!></dialog>');function qe(a,t){let e=te(t,"dialog",15);var r=je(),s=A(r);ae(s,()=>t.children??Me),N(r),Ce(r,i=>e(i),()=>e()),E("close",r,function(...i){var u;(u=t.onclose)==null||u.apply(this,i)}),b(a,r)}var He=(a,t)=>{t()!==null&&t()>0&&se(t,-1)},Se=U('<button aria-label="view previous image" class="nav-button prev-nav-button svelte-bva0w4"><i></i></button>'),Ze=(a,t,e)=>{t()!==null&&t()<o(e)-1&&se(t)},De=U('<button aria-label="view next image" class="nav-button next-nav-button svelte-bva0w4"><i></i></button>'),Ge=U('<div class="dialog__image svelte-bva0w4"><!> <!> <!></div>');function sr(a,t){ye(t,!0);let e=te(t,"selectedImageIndex",15),r=I(()=>t.imageURLs.map((f,w)=>({index:w,url:f}))),s=I(()=>new H(o(r).map(({url:f,index:w})=>[w,f]))),i=I(()=>t.imageURLs.length),u=T(!1),m=T(!1),g=I(()=>e()===null?null:o(s).get(e())||null),_=T(void 0);F(()=>{e(),v(m,!1),v(u,!1)}),F(()=>{e(),!(!o(_)||e()===null)&&o(_).showModal()});function O(){e(null)}qe(a,{onclose:O,get dialog(){return o(_)},set dialog(f){v(_,Ue(f))},children:(f,w)=>{var Z=$(),ie=J(Z);xe(ie,()=>o(g),ne=>{var D=$(),oe=J(D);{var le=P=>{Te(P,{children:(ue,Ve)=>{var R=Ge(),G=A(R);{var ve=c=>{var l=Se();l.__click=[He,e];var k=A(l);N(l),Q(()=>re(k,1,`ri-arrow-left-circle-${(o(u)?"fill":"line")??""}`,"svelte-bva0w4")),E("mouseenter",l,()=>v(u,!0)),E("mouseleave",l,()=>v(u,!1)),b(c,l)};j(G,c=>{e()!==0&&c(ve)})}var V=K(G,2);Ie(V,{get meta(){return o(g)}});var ce=K(V,2);{var fe=c=>{var l=De();l.__click=[Ze,e,i];var k=A(l);N(l),Q(()=>re(k,1,`ri-arrow-right-circle-${(o(m)?"fill":"line")??""}`,"svelte-bva0w4")),E("mouseenter",l,()=>v(m,!0)),E("mouseleave",l,()=>v(m,!1)),b(c,l)};j(ce,c=>{e()!==o(i)-1&&c(fe)})}N(R),ee(R,c=>{var l;return(l=Ne)==null?void 0:l(c)}),ee(R,c=>q==null?void 0:q(c)),E("click_outside",R,()=>o(_).close()),b(ue,R)}})};j(oe,P=>{e()!==null&&o(g)!==null&&P(le)})}b(ne,D)}),b(f,Z)},$$slots:{default:!0}}),Ae()}pe(["click"]);export{Te as C,sr as a};
