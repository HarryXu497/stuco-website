var xe=Object.getPrototypeOf;var Ee=Reflect.get;var le=i=>{throw TypeError(i)};var ue=(i,t,e)=>t.has(i)||le("Cannot "+e);var n=(i,t,e)=>(ue(i,t,"read from private field"),e?e.call(i):t.get(i)),H=(i,t,e)=>t.has(i)?le("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e);var J=(i,t,e)=>(ue(i,t,"access private method"),e);var ce=(i,t,e)=>Ee(xe(i),e,t);import{j as I,a as m,t as C,i as Re,e as $}from"../chunks/disclose-version.BQ5qK4J4.js";import{w as ve,T as ze,E as Me,aN as Ne,a0 as Te,G as qe,J as Oe,U as Se,m as v,p as re,H as Ue,a as se,c as z,r as y,N as U,g as r,f as Y,k as T,n as D,s as P,t as fe,aO as pe,b as Ie}from"../chunks/runtime.gS9Dhdqj.js";import{p as ee}from"../chunks/proxy.I2RIfYXX.js";import{p as be,i as V}from"../chunks/props.KBWi7S6r.js";import{e as de,i as Ae,M as ke}from"../chunks/Metadata.FMkhadrM.js";import{a as me,c as Ge}from"../chunks/Navbar.BNNbPYsM.js";import{t as ge,s as he}from"../chunks/class.BkBpr1cs.js";import{s as He}from"../chunks/snippet.hJUhzIVd.js";import{b as je}from"../chunks/this.-klIYCDZ.js";import{P as _e}from"../chunks/Picture.Dllv9TWp.js";import{C as De}from"../chunks/Card.Bpdtzc5H.js";import"../chunks/entry.mRYilblk.js";import"../chunks/_page.svelte_svelte_type_style_lang.24Mm1yRb.js";/* empty css                                                            */import"../chunks/theme.svelte.RNrs421b.js";import{a as Pe,b as We,d as Ze,e as Je,f as Ve,g as Ye,h as Be}from"../chunks/screenWidth.svelte.Dt_VUzUU.js";function Fe(i,t,e){ve&&ze();var s=i,a=Se,o;Me(()=>{Ne(a,a=t())&&(o&&Te(o),o=qe(()=>e(s)))}),ve&&(s=Oe)}function j(i){v(i,i.v+1)}var Ke=C('<dialog class="svelte-1gs0ezf"><!></dialog>');function Qe(i,t){re(t,!0);let e=be(t,"dialog",15);var s=Ke(),a=z(s);He(a,()=>t.children??Ue),y(s),je(s,o=>e(o),()=>e()),I("close",s,function(...o){var g;(g=t.onClose)==null||g.apply(this,o)}),m(i,s),se()}function Xe(i,t){const e=[],s=Math.floor(i.length/t);for(let a=0;a<t;a++)for(let o=0;o<s;o++)e.push(i[a+o*t]);for(let a=s*t;a<i.length;a++)e.push(i[a]);return e}const $e=4,et=6;function tt(i){const t=()=>{const e=i.children[0],s=e.lastElementChild,a=+s.getAttribute("width")/+s.getAttribute("height"),o=window.innerWidth/window.innerHeight;a>o&&(e.style.width=`min(calc(100vw - ${$e}rem), 48rem)`,e.style.height=""),a<o&&(e.style.height=`min(calc(100vh - ${et}rem), 40rem)`,e.style.width="")};return t(),window.addEventListener("resize",t),{destroy(){window.removeEventListener("resize",t)}}}var h,_,L,A,B;const ae=class ae extends Map{constructor(e){super();H(this,A);H(this,h,new Map);H(this,_,U(0));H(this,L,U(0));if(e){for(var[s,a]of e)super.set(s,a);n(this,L).v=super.size}}has(e){var s=n(this,h),a=s.get(e);if(a===void 0){var o=super.get(e);if(o!==void 0)a=U(0),s.set(e,a);else return r(n(this,_)),!1}return r(a),!0}forEach(e,s){J(this,A,B).call(this),super.forEach(e,s)}get(e){var s=n(this,h),a=s.get(e);if(a===void 0){var o=super.get(e);if(o!==void 0)a=U(0),s.set(e,a);else{r(n(this,_));return}}return r(a),super.get(e)}set(e,s){var E;var a=n(this,h),o=a.get(e),g=super.get(e),x=super.set(e,s),p=n(this,_);if(o===void 0)a.set(e,U(0)),v(n(this,L),super.size),j(p);else if(g!==s){j(o);var M=p.reactions===null?null:new Set(p.reactions),f=M===null||!((E=o.reactions)!=null&&E.every(b=>M.has(b)));f&&j(p)}return x}delete(e){var s=n(this,h),a=s.get(e),o=super.delete(e);return a!==void 0&&(s.delete(e),v(n(this,L),super.size),v(a,-1),j(n(this,_))),o}clear(){if(super.size!==0){super.clear();var e=n(this,h);v(n(this,L),0);for(var s of e.values())v(s,-1);j(n(this,_)),e.clear()}}keys(){return r(n(this,_)),super.keys()}values(){return J(this,A,B).call(this),super.values()}entries(){return J(this,A,B).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return r(n(this,L)),super.size}};h=new WeakMap,_=new WeakMap,L=new WeakMap,A=new WeakSet,B=function(){r(n(this,_));var e=n(this,h);if(n(this,L).v!==e.size)for(var s of ce(ae.prototype,this,"keys").call(this))e.has(s)||e.set(s,U(0));for(var[,a]of n(this,h))r(a)};let te=ae;var rt=C('<div class="gallery__no-images svelte-yqxif2"><h3 class="gallery__no-images__message svelte-yqxif2">No Images Yet</h3></div>'),st=C('<button class="gallery__column__image svelte-yqxif2" aria-label="Select this image"><!></button>'),at=C('<div class="gallery__column svelte-yqxif2"></div>'),it=(i,t)=>{r(t)&&r(t)>0&&pe(t,-1)},ot=C('<button aria-label="view previous image" class="nav-button prev-nav-button svelte-yqxif2"><i></i></button>'),nt=(i,t,e)=>{r(t)&&r(t)<r(e)-1&&pe(t)},lt=C('<button aria-label="view next image" class="nav-button next-nav-button svelte-yqxif2"><i></i></button>'),ut=C('<div class="dialog__image svelte-yqxif2"><!> <!> <!></div>'),ct=C('<section class="gallery svelte-yqxif2"><!> <!></section>');function vt(i,t){re(t,!0);let e=be(t,"columns",3,4),s=T(()=>t.imageURLs.map((c,l)=>({index:l,url:c}))),a=T(()=>new te(r(s).map(({url:c,index:l})=>[l,c]))),o=T(()=>t.imageURLs.length),g=D(!1),x=D(!1);const p=(c,l)=>{const q=Math.floor(r(o)/l),F=r(o)%l,w=[];c=Xe(c,l);for(let d=0;d<l;(d+=1)-1)w[d]=c.slice(d*q,(d+1)*q);for(let d=0;d<F;(d+=1)-1)w[d].push(c[q*l+d]);return w};let M=T(()=>p(r(s),e())),f=D(null),E=T(()=>r(f)===null?null:r(a).get(r(f))||null),b=D(void 0);function we(c){return l=>{v(f,ee(c)),r(b)&&r(b).showModal()}}function ye(){v(f,null)}var ie=$(),Le=Y(ie);V(Le,()=>r(o)===0,c=>{var l=rt();m(c,l)},c=>{var l=ct(),q=z(l);de(q,17,()=>r(M),Ae,(w,d)=>{var O=at();de(O,23,()=>r(d),k=>k.url.img.src,(k,W,Z)=>{var S=st(),K=T(()=>we(r(W).index));S.__click=function(...R){var G;(G=r(K))==null||G.apply(this,R)};var Q=z(S),oe=T(()=>r(Z)<3?"eager":"lazy");_e(Q,{get meta(){return r(W).url},get loading(){return r(oe)}}),y(S),m(k,S)}),y(O),m(w,O)});var F=P(q,2);Qe(F,{get dialog(){return r(b)},set dialog(w){v(b,ee(w))},onClose:ye,children:(w,d)=>{var O=$(),k=Y(O);Fe(k,()=>r(E),W=>{var Z=$(),S=Y(Z);V(S,()=>r(f)!==null&&r(E)!=null,K=>{De(K,{children:(Q,oe)=>{var R=ut(),G=z(R);V(G,()=>r(f)!=0,N=>{var u=ot();u.__click=[it,f];var X=z(u);y(u),fe(()=>{ge(u,"button-below",e()<4),he(X,`ri-arrow-left-circle-${(r(g)?"fill":"line")??""} svelte-yqxif2`)}),I("mouseenter",u,()=>v(g,!0)),I("mouseleave",u,()=>v(g,!1)),m(N,u)});var ne=P(G,2);_e(ne,{get meta(){return r(E)}});var Ce=P(ne,2);V(Ce,()=>r(f)!=r(o)-1,N=>{var u=lt();u.__click=[nt,f,o];var X=z(u);y(u),fe(()=>{ge(u,"button-below",e()<4),he(X,`ri-arrow-right-circle-${(r(x)?"fill":"line")??""} svelte-yqxif2`)}),I("mouseenter",u,()=>v(x,!0)),I("mouseleave",u,()=>v(x,!1)),m(N,u)}),y(R),me(R,N=>Ge(N)),me(R,N=>tt(N)),I("click_outside",R,()=>r(b).close()),m(Q,R)},$$slots:{default:!0}})}),m(W,Z)}),m(w,O)},$$slots:{default:!0}}),y(l),m(c,l)}),m(i,ie),se()}Re(["click"]);var ft=C('<!> <main class="gallery svelte-uhb3ej"><h1 class="svelte-uhb3ej">Gallery</h1> <div class="gallery__image-grid svelte-uhb3ej"><!></div></main>',1);function Tt(i,t){re(t,!0);let e=D(4);[[Pe,4],[We,4],[Ze,3],[Je,3],[Ve,2],[Ye,2],[Be,1]].map(([E,b])=>{Ie(()=>{E.value&&v(e,ee(b))})});const a="Gallery | RHHS StuCo",o="A look into our 2024-2025 school year.";var g=ft(),x=Y(g);ke(x,{title:a,description:o,url:"https://rhhsstuco.ca/gallery",get image(){return t.data.imageURLs[0]}});var p=P(x,2),M=P(z(p),2),f=z(M);vt(f,{get imageURLs(){return t.data.imageURLs},get columns(){return r(e)}}),y(M),y(p),m(i,g),se()}export{Tt as component};
