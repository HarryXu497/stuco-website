var Re=Object.getPrototypeOf;var ze=Reflect.get;var ne=i=>{throw TypeError(i)};var ue=(i,t,e)=>t.has(i)||ne("Cannot "+e);var l=(i,t,e)=>(ue(i,t,"read from private field"),e?e.call(i):t.get(i)),H=(i,t,e)=>t.has(i)?ne("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e);var K=(i,t,e)=>(ue(i,t,"access private method"),e);var ce=(i,t,e)=>ze(Re(i),e,t);import{a as g,t as C,c as $}from"../chunks/disclose-version.CFuGu-tt.js";import{w as ve,A as Ee,y as Me,aN as Ne,L as Oe,K as Se,G as Te,ac as Ae,m as v,p as re,a2 as Ie,a as se,c as M,r as y,_ as U,g as r,f as Y,k as S,n as j,s as W,t as de,aO as pe,b as Ue}from"../chunks/runtime.B2NV0GWk.js";import{a as we,p as ee}from"../chunks/props.C_w89w0-.js";import{e as k,d as ke}from"../chunks/events.RwOQeFvm.js";import{i as V}from"../chunks/if.BtRwC8bn.js";import{e as fe,i as Ge}from"../chunks/each.B1RRjPO4.js";import{a as ge,c as xe}from"../chunks/Navbar.JolZIIdH.js";import{t as me,s as he}from"../chunks/class.DV5zTk5Z.js";import{s as De}from"../chunks/attributes.DozUwa6w.js";import{b as He}from"../chunks/this.DJay9aBr.js";import{P as _e}from"../chunks/Picture.DlCZaAbp.js";import{C as Pe}from"../chunks/Card.qtjNCRfu.js";import"../chunks/entry.ChuRU2AM.js";import"../chunks/_page.svelte_svelte_type_style_lang.24Mm1yRb.js";/* empty css                                                            *//* empty css                                                          */import"../chunks/theme.svelte.Bz32mSQs.js";import{a as je,b as We,d as Ze,e as qe,f as Ke,g as Ve,h as Ye}from"../chunks/screenWidth.svelte.CYZ4Ziwu.js";import{M as Be}from"../chunks/Metadata.BOMowFBU.js";function Fe(i,t,e){ve&&Ee();var s=i,a=Ae,o;Me(()=>{Ne(a,a=t())&&(o&&Oe(o),o=Se(()=>e(s)))}),ve&&(s=Te)}function P(i){v(i,i.v+1)}var Je=C('<dialog class="svelte-1gs0ezf"><!></dialog>');function Qe(i,t){re(t,!0);let e=we(t,"dialog",15);var s=Je(),a=M(s);De(a,()=>t.children??Ie),y(s),He(s,o=>e(o),()=>e()),k("close",s,function(...o){var m;(m=t.onClose)==null||m.apply(this,o)}),g(i,s),se()}function Xe(i,t){const e=[],s=Math.floor(i.length/t);for(let a=0;a<t;a++)for(let o=0;o<s;o++)e.push(i[a+o*t]);for(let a=s*t;a<i.length;a++)e.push(i[a]);return e}const $e=4,et=6;function tt(i){const t=()=>{const e=i.children[1],s=e.lastElementChild,a=+s.getAttribute("width")/+s.getAttribute("height"),o=window.innerWidth/window.innerHeight;a>o&&(e.style.width=`min(calc(100vw - ${$e}rem), 48rem)`,e.style.height=""),a<o&&(e.style.height=`min(calc(100vh - ${et}rem), 40rem)`,e.style.width="")};return t(),window.addEventListener("resize",t),{destroy(){window.removeEventListener("resize",t)}}}var h,_,L,G,B;const ae=class ae extends Map{constructor(e){super();H(this,G);H(this,h,new Map);H(this,_,U(0));H(this,L,U(0));if(e){for(var[s,a]of e)super.set(s,a);l(this,L).v=super.size}}has(e){var s=l(this,h),a=s.get(e);if(a===void 0){var o=super.get(e);if(o!==void 0)a=U(0),s.set(e,a);else return r(l(this,_)),!1}return r(a),!0}forEach(e,s){K(this,G,B).call(this),super.forEach(e,s)}get(e){var s=l(this,h),a=s.get(e);if(a===void 0){var o=super.get(e);if(o!==void 0)a=U(0),s.set(e,a);else{r(l(this,_));return}}return r(a),super.get(e)}set(e,s){var z;var a=l(this,h),o=a.get(e),m=super.get(e),R=super.set(e,s),p=l(this,_);if(o===void 0)a.set(e,U(0)),v(l(this,L),super.size),P(p);else if(m!==s){P(o);var N=p.reactions===null?null:new Set(p.reactions),d=N===null||!((z=o.reactions)!=null&&z.every(w=>N.has(w)));d&&P(p)}return R}delete(e){var s=l(this,h),a=s.get(e),o=super.delete(e);return a!==void 0&&(s.delete(e),v(l(this,L),super.size),v(a,-1),P(l(this,_))),o}clear(){if(super.size!==0){super.clear();var e=l(this,h);v(l(this,L),0);for(var s of e.values())v(s,-1);P(l(this,_)),e.clear()}}keys(){return r(l(this,_)),super.keys()}values(){return K(this,G,B).call(this),super.values()}entries(){return K(this,G,B).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return r(l(this,L)),super.size}};h=new WeakMap,_=new WeakMap,L=new WeakMap,G=new WeakSet,B=function(){r(l(this,_));var e=l(this,h);if(l(this,L).v!==e.size)for(var s of ce(ae.prototype,this,"keys").call(this))e.has(s)||e.set(s,U(0));for(var[,a]of l(this,h))r(a)};let te=ae;var rt=C('<div class="gallery__no-images svelte-19grdw1"><h3 class="gallery__no-images__message svelte-19grdw1">No Images Yet</h3></div>'),st=C('<button class="gallery__column__image svelte-19grdw1" aria-label="Select this image"><!></button>'),at=C('<div class="gallery__column svelte-19grdw1"></div>'),it=(i,t)=>{r(t)!==null&&r(t)>0&&pe(t,-1)},ot=C('<button aria-label="view previous image" class="nav-button prev-nav-button svelte-19grdw1"><i></i></button>'),lt=(i,t,e)=>{r(t)!==null&&r(t)<r(e)-1&&pe(t)},nt=C('<button aria-label="view next image" class="nav-button next-nav-button svelte-19grdw1"><i></i></button>'),ut=C('<div class="dialog__image svelte-19grdw1"><!> <!> <!></div>'),ct=C('<section class="gallery svelte-19grdw1"><!> <!></section>');function vt(i,t){re(t,!0);let e=we(t,"columns",3,4),s=S(()=>t.imageURLs.map((c,n)=>({index:n,url:c}))),a=S(()=>new te(r(s).map(({url:c,index:n})=>[n,c]))),o=S(()=>t.imageURLs.length),m=j(!1),R=j(!1);const p=(c,n)=>{const T=Math.floor(r(o)/n),F=r(o)%n,b=[];c=Xe(c,n);for(let f=0;f<n;(f+=1)-1)b[f]=c.slice(f*T,(f+1)*T);for(let f=0;f<F;(f+=1)-1)b[f].push(c[T*n+f]);return b};let N=S(()=>p(r(s),e())),d=j(null),z=S(()=>r(d)===null?null:r(a).get(r(d))||null),w=j(void 0);function be(c){return n=>{v(d,ee(c)),r(w)&&r(w).showModal()}}function ye(){v(d,null)}var ie=$(),Le=Y(ie);V(Le,()=>r(o)===0,c=>{var n=rt();g(c,n)},c=>{var n=ct(),T=M(n);fe(T,17,()=>r(N),Ge,(b,f)=>{var A=at();fe(A,23,()=>r(f),x=>x.url.img.src,(x,Z,q)=>{var I=st(),J=S(()=>be(r(Z).index));I.__click=function(...E){var D;(D=r(J))==null||D.apply(this,E)};var Q=M(I),oe=S(()=>r(q)<3?"eager":"lazy");_e(Q,{get meta(){return r(Z).url},get loading(){return r(oe)}}),y(I),g(x,I)}),y(A),g(b,A)});var F=W(T,2);Qe(F,{get dialog(){return r(w)},set dialog(b){v(w,ee(b))},onClose:ye,children:(b,f)=>{var A=$(),x=Y(A);Fe(x,()=>r(z),Z=>{var q=$(),I=Y(q);V(I,()=>r(d)!==null&&r(z)!=null,J=>{Pe(J,{children:(Q,oe)=>{var E=ut(),D=M(E);V(D,()=>r(d)!=0,O=>{var u=ot();u.__click=[it,d];var X=M(u);y(u),de(()=>{me(u,"button-below",e()<4),he(X,`ri-arrow-left-circle-${(r(m)?"fill":"line")??""} svelte-19grdw1`)}),k("mouseenter",u,()=>v(m,!0)),k("mouseleave",u,()=>v(m,!1)),g(O,u)});var le=W(D,2);_e(le,{get meta(){return r(z)}});var Ce=W(le,2);V(Ce,()=>r(d)!=r(o)-1,O=>{var u=nt();u.__click=[lt,d,o];var X=M(u);y(u),de(()=>{me(u,"button-below",e()<4),he(X,`ri-arrow-right-circle-${(r(R)?"fill":"line")??""} svelte-19grdw1`)}),k("mouseenter",u,()=>v(R,!0)),k("mouseleave",u,()=>v(R,!1)),g(O,u)}),y(E),ge(E,O=>xe(O)),ge(E,O=>tt(O)),k("click_outside",E,()=>r(w).close()),g(Q,E)},$$slots:{default:!0}})}),g(Z,q)}),g(b,A)},$$slots:{default:!0}}),y(n),g(c,n)}),g(i,ie),se()}ke(["click"]);var dt=C('<!> <main class="gallery svelte-uhb3ej"><h1 class="svelte-uhb3ej">Gallery</h1> <div class="gallery__image-grid svelte-uhb3ej"><!></div></main>',1);function It(i,t){re(t,!0);let e=j(4);[[je,4],[We,4],[Ze,3],[qe,3],[Ke,2],[Ve,2],[Ye,1]].map(([z,w])=>{Ue(()=>{z.value&&v(e,ee(w))})});const a="Gallery | RHHS StuCo",o="A look into our 2024-2025 school year.";var m=dt(),R=Y(m);Be(R,{title:a,description:o,url:"https://rhhsstuco.ca/gallery",get image(){return t.data.imageURLs[0]}});var p=W(R,2),N=W(M(p),2),d=M(N);vt(d,{get imageURLs(){return t.data.imageURLs},get columns(){return r(e)}}),y(N),y(p),g(i,m),se()}export{It as component};
