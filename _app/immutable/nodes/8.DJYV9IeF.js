var Se=Object.getPrototypeOf;var Ue=Reflect.get;var ce=i=>{throw TypeError(i)};var ve=(i,t,e)=>t.has(i)||ce("Cannot "+e);var l=(i,t,e)=>(ve(i,t,"read from private field"),e?e.call(i):t.get(i)),G=(i,t,e)=>t.has(i)?ce("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e);var W=(i,t,e)=>(ve(i,t,"access private method"),e);var de=(i,t,e)=>Ue(Se(i),e,t);import{t as z,j as k,a as m,i as Ae,f as te}from"../chunks/D_plps2J.js";import{I as fe,O as Ie,aL as Te,aN as ke,aO as xe,N as Pe,X as je,W as De,Y as Ge,U as He,y as T,i as r,v as g,c as N,Z as Ze,r as C,p as pe,f as F,a as be,k as S,s as q,o as Z,t as ge,aP as we,d as qe}from"../chunks/C4cws3ML.js";import{p as se}from"../chunks/BicPug-L.js";import{i as X}from"../chunks/DNoPwD5R.js";import{e as me,i as Ye,M as Ve}from"../chunks/DNIdhbP-.js";import{a as he,c as We}from"../chunks/C0rKzzvf.js";import{s as B}from"../chunks/DwaRsoLe.js";import{p as ye}from"../chunks/YCYhWwgU.js";import{s as Xe}from"../chunks/CqpuL_nq.js";import{b as Be}from"../chunks/CcN-I6-7.js";import{P as _e}from"../chunks/Bbfny7Cb.js";import{C as Fe}from"../chunks/BvKXP0lk.js";import"../chunks/DKjKLkGH.js";import{a as Je,b as Ke,d as Qe,e as $e,f as et,g as tt,h as rt}from"../chunks/BDswbF-f.js";import"../chunks/lqtc1-wH.js";/* empty css                */import"../chunks/B8-0uC6L.js";import{i as H}from"../chunks/DDZiEFiv.js";function st(i,t,e){fe&&Ie();var s=i,a=He,o,v=Te()?ke:xe;Pe(()=>{v(a,a=t())&&(o&&je(o),o=De(()=>e(s)))}),fe&&(s=Ge)}var _,p,R,x,J;const ie=class ie extends Map{constructor(e){super();G(this,x);G(this,_,new Map);G(this,p,T(0));G(this,R,T(0));if(e){for(var[s,a]of e)super.set(s,a);l(this,R).v=super.size}}has(e){var s=l(this,_),a=s.get(e);if(a===void 0){var o=super.get(e);if(o!==void 0)a=T(0),s.set(e,a);else return r(l(this,p)),!1}return r(a),!0}forEach(e,s){W(this,x,J).call(this),super.forEach(e,s)}get(e){var s=l(this,_),a=s.get(e);if(a===void 0){var o=super.get(e);if(o!==void 0)a=T(0),s.set(e,a);else{r(l(this,p));return}}return r(a),super.get(e)}set(e,s){var M;var a=l(this,_),o=a.get(e),v=super.get(e),E=super.set(e,s),b=l(this,p);if(o===void 0)a.set(e,T(0)),g(l(this,R),super.size),H(b);else if(v!==s){H(o);var O=b.reactions===null?null:new Set(b.reactions),d=O===null||!((M=o.reactions)!=null&&M.every(w=>O.has(w)));d&&H(b)}return E}delete(e){var s=l(this,_),a=s.get(e),o=super.delete(e);return a!==void 0&&(s.delete(e),g(l(this,R),super.size),g(a,-1),H(l(this,p))),o}clear(){if(super.size!==0){super.clear();var e=l(this,_);g(l(this,R),0);for(var s of e.values())g(s,-1);H(l(this,p)),e.clear()}}keys(){return r(l(this,p)),super.keys()}values(){return W(this,x,J).call(this),super.values()}entries(){return W(this,x,J).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return r(l(this,R)),super.size}};_=new WeakMap,p=new WeakMap,R=new WeakMap,x=new WeakSet,J=function(){r(l(this,p));var e=l(this,_);if(l(this,R).v!==e.size)for(var s of de(ie.prototype,this,"keys").call(this))e.has(s)||e.set(s,T(0));for(var[,a]of l(this,_))r(a)};let ae=ie;var at=z('<dialog class="svelte-1gs0ezf"><!></dialog>');function it(i,t){let e=ye(t,"dialog",15);var s=at(),a=N(s);Xe(a,()=>t.children??Ze),C(s),Be(s,o=>e(o),()=>e()),k("close",s,function(...o){var v;(v=t.onClose)==null||v.apply(this,o)}),m(i,s)}function ot(i,t){const e=[],s=Math.floor(i.length/t);for(let a=0;a<t;a++)for(let o=0;o<s;o++)e.push(i[a+o*t]);for(let a=s*t;a<i.length;a++)e.push(i[a]);return e}const lt=4,nt=6;function re(i){const t=()=>{const e=i.children[1],s=e.lastElementChild,a=+s.getAttribute("width")/+s.getAttribute("height"),o=window.innerWidth/window.innerHeight;a>o&&(e.style.width=`min(calc(100vw - ${lt}rem), 48rem)`,e.style.height=""),a<o&&(e.style.height=`min(calc(100vh - ${nt}rem), 40rem)`,e.style.width="")};return t(),window.addEventListener("resize",t),{destroy(){window.removeEventListener("resize",t)}}}var ut=z('<div class="gallery__no-images svelte-19grdw1"><h3 class="gallery__no-images__message svelte-19grdw1">No Images Yet</h3></div>'),ct=z('<button class="gallery__column__image svelte-19grdw1" aria-label="Select this image"><!></button>'),vt=z('<div class="gallery__column svelte-19grdw1"></div>'),dt=(i,t)=>{r(t)!==null&&r(t)>0&&we(t,-1)},ft=z('<button aria-label="view previous image"><i></i></button>'),gt=(i,t,e)=>{r(t)!==null&&r(t)<r(e)-1&&we(t)},mt=z('<button aria-label="view next image"><i></i></button>'),ht=z('<div class="dialog__image svelte-19grdw1"><!> <!> <!></div>'),_t=z('<section class="gallery svelte-19grdw1"><!> <!></section>');function pt(i,t){pe(t,!0);let e=ye(t,"columns",3,4),s=S(()=>t.imageURLs.map((u,c)=>({index:c,url:u}))),a=S(()=>new ae(r(s).map(({url:u,index:c})=>[c,u]))),o=S(()=>t.imageURLs.length),v=Z(!1),E=Z(!1);const b=(u,c)=>{const U=Math.floor(r(o)/c),K=r(o)%c,y=[];u=ot(u,c);for(let f=0;f<c;f++)y[f]=u.slice(f*U,(f+1)*U);for(let f=0;f<K;f++)y[f].push(u[U*c+f]);return y};let O=S(()=>b(r(s),e())),d=Z(null),M=S(()=>r(d)===null?null:r(a).get(r(d))||null),w=Z(void 0);function Le(u){return c=>{g(d,se(u)),r(w)&&r(w).showModal()}}function Ce(){g(d,null)}var oe=te(),Re=F(oe);{var ze=u=>{var c=ut();m(u,c)},Ee=u=>{var c=_t(),U=N(c);me(U,17,()=>r(O),Ye,(y,f)=>{var A=vt();me(A,23,()=>r(f),P=>P.url.img.src,(P,Y,V)=>{var I=ct(),Q=S(()=>Le(r(Y).index));I.__click=function(...le){var L;(L=r(Q))==null||L.apply(this,le)};var j=N(I);const $=S(()=>r(V)<3?"eager":"lazy");_e(j,{get meta(){return r(Y).url},get loading(){return r($)}}),C(I),m(P,I)}),C(A),m(y,A)});var K=q(U,2);it(K,{onClose:Ce,get dialog(){return r(w)},set dialog(y){g(w,se(y))},children:(y,f)=>{var A=te(),P=F(A);st(P,()=>r(M),Y=>{var V=te(),I=F(V);{var Q=j=>{Fe(j,{children:($,le)=>{var L=ht(),ne=N(L);{var Me=h=>{var n=ft();let D;n.__click=[dt,d];var ee=N(n);C(n),ge(()=>{D=B(n,1,"nav-button prev-nav-button svelte-19grdw1",null,D,{"button-below":e()<4}),B(ee,1,`ri-arrow-left-circle-${(r(v)?"fill":"line")??""}`,"svelte-19grdw1")}),k("mouseenter",n,()=>g(v,!0)),k("mouseleave",n,()=>g(v,!1)),m(h,n)};X(ne,h=>{r(d)!=0&&h(Me)})}var ue=q(ne,2);_e(ue,{get meta(){return r(M)}});var Ne=q(ue,2);{var Oe=h=>{var n=mt();let D;n.__click=[gt,d,o];var ee=N(n);C(n),ge(()=>{D=B(n,1,"nav-button next-nav-button svelte-19grdw1",null,D,{"button-below":e()<4}),B(ee,1,`ri-arrow-right-circle-${(r(E)?"fill":"line")??""}`,"svelte-19grdw1")}),k("mouseenter",n,()=>g(E,!0)),k("mouseleave",n,()=>g(E,!1)),m(h,n)};X(Ne,h=>{r(d)!=r(o)-1&&h(Oe)})}C(L),he(L,h=>{var n;return(n=We)==null?void 0:n(h)}),he(L,h=>re==null?void 0:re(h)),k("click_outside",L,()=>r(w).close()),m($,L)}})};X(I,j=>{r(d)!==null&&r(M)!=null&&j(Q)})}m(Y,V)}),m(y,A)},$$slots:{default:!0}}),C(c),m(u,c)};X(Re,u=>{r(o)===0?u(ze):u(Ee,!1)})}m(i,oe),be()}Ae(["click"]);var bt=z('<!> <main class="gallery svelte-uhb3ej"><h1 class="svelte-uhb3ej">Gallery</h1> <div class="gallery__image-grid svelte-uhb3ej"><!></div></main>',1);function Dt(i,t){pe(t,!0);let e=Z(4);[[Je,4],[Ke,4],[Qe,3],[$e,3],[et,2],[tt,2],[rt,1]].map(([M,w])=>{qe(()=>{M.current&&g(e,se(w))})});const a="Gallery | RHHS StuCo",o="A look into our 2024-2025 school year.";var v=bt(),E=F(v);Ve(E,{title:a,description:o,url:"https://rhhsstuco.ca/gallery",get image(){return t.data.imageURLs[0]}});var b=q(E,2),O=q(N(b),2),d=N(O);pt(d,{get imageURLs(){return t.data.imageURLs},get columns(){return r(e)}}),C(O),C(b),m(i,v),be()}export{Dt as component};
