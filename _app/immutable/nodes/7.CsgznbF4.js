import{a as c,t as _,i as B,f as O,j as F}from"../chunks/disclose-version.BsqdIjIN.js";import{o as W,a0 as K,E as Q,aL as X,a9 as $,G as ee,J as ae,U as te,p as j,H as ie,a as P,c as b,r as u,f as N,g as r,m as S,k as R,n as z,s as G,b as re}from"../chunks/runtime.VibfJNUv.js";import{p as H}from"../chunks/proxy.Bx2X1gXO.js";import{p as Y,i as Z}from"../chunks/props.Cv3KtIbI.js";import{e as q,i as se,M as oe}from"../chunks/Metadata.C5OkUUp2.js";import{a as J,c as le}from"../chunks/clickOutside.BDQReR2E.js";import{s as ne}from"../chunks/snippet.VgHvdatV.js";import{b as de}from"../chunks/this.C5tLHQlr.js";import{P as V}from"../chunks/Picture.3uAnW6O6.js";import{C as ce}from"../chunks/Card.CYNdAVtu.js";import{m as me,a as ge,b as fe,d as ve,e as ue,f as _e,g as he}from"../chunks/screenWidth.svelte.DFqxS9d-.js";function pe(o,e,a){W&&K();var i=o,t=te,s;Q(()=>{X(t,t=e())&&(s&&$(s),s=ee(()=>a(i)))}),W&&(i=ae)}var ye=_('<dialog class="svelte-1gs0ezf"><!></dialog>');function be(o,e){j(e,!0);let a=Y(e,"dialog",15);var i=ye(),t=b(i);ne(t,()=>e.children??ie),u(i),de(i,s=>a(s),()=>a()),c(o,i),P()}function Ie(o,e){const a=[],i=Math.floor(o.length/e);for(let t=0;t<e;t++)for(let s=0;s<i;s++)a.push(o[t+s*e]);for(let t=i*e;t<o.length;t++)a.push(o[t]);return a}const we=4,Le=6;function ke(o){const e=()=>{const a=o.children[0],i=a.lastElementChild,t=+i.getAttribute("width")/+i.getAttribute("height"),s=window.innerWidth/window.innerHeight;t>s&&(a.style.width=`min(calc(100vw - ${we}rem), 48rem)`,a.style.height=""),t<s&&(a.style.height=`min(calc(100vh - ${Le}rem), 40rem)`,a.style.width="")};return e(),window.addEventListener("resize",e),{destroy(){window.removeEventListener("resize",e)}}}var Ce=_('<div class="gallery__no-images svelte-9x0iyf"><h3 class="gallery__no-images__message svelte-9x0iyf">No Images Yet</h3></div>'),Ee=_('<button class="gallery__column__image svelte-9x0iyf" aria-label="Select this image"><!></button>'),Re=_('<div class="gallery__column svelte-9x0iyf"></div>'),Ne=_('<div class="dialog__image svelte-9x0iyf"><!></div>'),Te=_('<section class="gallery svelte-9x0iyf"><!> <!></section>');function xe(o,e){j(e,!0);let a=Y(e,"columns",3,5),i=R(()=>e.imageURLs.length);const t=(d,l)=>{const h=Math.floor(r(i)/l),x=r(i)%l,m=[];d=Ie(d,l);for(let n=0;n<l;(n+=1)-1)m[n]=d.slice(n*h,(n+1)*h);for(let n=0;n<x;(n+=1)-1)m[n].push(d[h*l+n]);return m};let s=R(()=>t(e.imageURLs,a())),v=z(void 0),g=z(void 0);function L(d){return l=>{S(v,H(d)),r(g)&&r(g).showModal()}}var I=O(),T=N(I);Z(T,()=>r(i)===0,d=>{var l=Ce();c(d,l)},d=>{var l=Te(),h=b(l);q(h,17,()=>r(s),se,(m,n)=>{var p=Re();q(p,23,()=>r(n),w=>w.img.src,(w,k,C)=>{var y=Ee(),M=R(()=>L(r(k)));y.__click=function(...f){var E;(E=r(M))==null||E.apply(this,f)};var A=b(y),D=R(()=>r(C)<3?"eager":"lazy");V(A,{get meta(){return r(k)},get loading(){return r(D)}}),u(y),c(w,y)}),u(p),c(m,p)});var x=G(h,2);be(x,{get dialog(){return r(g)},set dialog(m){S(g,H(m))},children:(m,n)=>{var p=O(),w=N(p);pe(w,()=>r(v),k=>{var C=O(),y=N(C);Z(y,()=>r(v),M=>{ce(M,{children:(A,D)=>{var f=Ne(),E=b(f);V(E,{get meta(){return r(v)}}),u(f),J(f,U=>le(U)),J(f,U=>ke(U)),F("click_outside",f,()=>r(g).close()),c(A,f)},$$slots:{default:!0}})}),c(k,C)}),c(m,p)},$$slots:{default:!0}}),u(l),c(d,l)}),c(o,I),P()}B(["click"]);var Me=_('<!> <main class="gallery svelte-uhb3ej"><h1 class="svelte-uhb3ej">Gallery</h1> <div class="gallery__image-grid svelte-uhb3ej"><!></div></main>',1);function Ze(o,e){j(e,!0);let a=z(4);[[me,4],[ge,4],[fe,3],[ve,3],[ue,2],[_e,2],[he,1]].map(([d,l])=>{re(()=>{d.value&&S(a,H(l))})});const t="Gallery | RHHS StuCo",s="A look into our 2024-2025 school year.";var v=Me(),g=N(v);oe(g,{title:t,description:s,url:"https://rhhsstuco.ca/gallery",get image(){return e.data.imageURLs[0]}});var L=G(g,2),I=G(b(L),2),T=b(I);xe(T,{get imageURLs(){return e.data.imageURLs},get columns(){return r(a)}}),u(I),u(L),c(o,v),P()}export{Ze as component};
