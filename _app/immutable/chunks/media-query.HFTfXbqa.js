var f=t=>{throw TypeError(t)};var h=(t,e,s)=>e.has(t)||f("Cannot "+s);var c=(t,e,s)=>(h(t,e,"read from private field"),s?s.call(t):e.get(t)),i=(t,e,s)=>e.has(t)?f("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),o=(t,e,s,r)=>(h(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);import{o as b}from"./disclose-version.CJC2IDF7.js";import{h as d,aH as m,g,b as k,u as p,aI as _,R as v}from"./runtime.DamBQiK-.js";function x(t){d(t,t.v+1)}function M(t){let e=0,s=v(0),r;return()=>{m()&&(g(s),k(()=>(e===0&&(r=p(()=>t(()=>x(s)))),e+=1,()=>{_().then(()=>{e-=1,e===0&&(r==null||r(),r=void 0)})})))}}var a,n;class w{constructor(e,s){i(this,a);i(this,n);o(this,a,e),o(this,n,M(s))}get current(){return c(this,n).call(this),c(this,a).call(this)}}a=new WeakMap,n=new WeakMap;const R=/\(.+\)/;class S extends w{constructor(e,s){let r=R.test(e)?e:`(${e})`;const u=window.matchMedia(r);super(()=>u.matches,l=>b(u,"change",l))}}export{S as M,x as i};
