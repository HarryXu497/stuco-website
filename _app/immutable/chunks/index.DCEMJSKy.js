var f=t=>{throw TypeError(t)};var d=(t,e,r)=>e.has(t)||f("Cannot "+r);var i=(t,e,r)=>(d(t,e,"read from private field"),r?r.call(t):e.get(t)),a=(t,e,r)=>e.has(t)?f("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),o=(t,e,r,s)=>(d(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);import{o as m}from"./disclose-version.DdfHI4CV.js";import{aE as h,g as b,b as p,u as g,aF as k,R as _}from"./runtime.ybpKW43T.js";import{i as w}from"./utils.3BTzpab1.js";function x(t){let e=0,r=_(0),s;return()=>{h()&&(b(r),p(()=>(e===0&&(s=g(()=>t(()=>w(r)))),e+=1,()=>{k().then(()=>{e-=1,e===0&&(s==null||s(),s=void 0)})})))}}var c,n;class M{constructor(e,r){a(this,c);a(this,n);o(this,c,e),o(this,n,x(r))}get current(){return i(this,n).call(this),i(this,c).call(this)}}c=new WeakMap,n=new WeakMap;const R=/\(.+\)/;class v extends M{constructor(e,r){let s=R.test(e)?e:`(${e})`;const u=window.matchMedia(s);super(()=>u.matches,l=>m(u,"change",l))}}const V=new v("(prefers-reduced-motion: reduce)");export{V as p};
